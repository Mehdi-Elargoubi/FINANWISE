<div class="stock-recommendation-container">
  <!-- Formulaire -->
  <form (ngSubmit)="fetchRecommendations()" [formGroup]="recommendationForm" class="recommendation-form">
    <h2>🔍 Trouver des <span class="highlight">Recommandations</span></h2>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Symbole</mat-label>
      <input matInput formControlName="symbol" placeholder="Ex: AAPL" required />
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Budget (€)</mat-label>
      <input matInput formControlName="budget" type="number" placeholder="Ex: 5000" required />
    </mat-form-field>

    <button mat-raised-button color="primary" [disabled]="recommendationForm.invalid" class="submit-button">
      🔎 Rechercher
    </button>
  </form>

  <!-- Affichage des recommandations -->
  <div *ngIf="recommendations.length > 0" class="result-section">
    <h3>📊 Recommandations pour <span class="symbol">{{recommendations[0].symbol}}</span></h3>

    <div class="recommendation-container">
      <mat-card class="stock-card">
        <mat-card-title>🕒 Mise à jour : {{ recommendations[0].period }}</mat-card-title>
        <p class="highlight-text">{{ decision }}</p>
        <p class="highlight-ajout"><em>{{ ajout }}</em></p>

        <div class="stats">
          <div class="stat">📈 <strong>Buy :</strong> {{ recommendations[0].buy }}</div>
          <div class="stat">🤝 <strong>Hold :</strong> {{ recommendations[0].hold }}</div>
          <div class="stat">📉 <strong>Sell :</strong> {{ recommendations[0].sell }}</div>
        </div>
      </mat-card>
    </div>
  </div>
</div>
